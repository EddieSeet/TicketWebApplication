<!--<form [formGroup]="newTicket" (ngSubmit)="submitForm();">
    
    
    <!-- <div class="form-group">
      <label for="PLU">Ticket PLU:</label>
      <input formControlName="PLU" type="text" id="PLU" class="form-control">          
      <span *ngIf="newTicket.get('PLU').errors['required']">This field is required.</span>
    <span *ngIf="newTicket.get('PLU').errors['minlength']">Minimum 5 characters</span>
          
    
    </div> 
      

    



    
    <div class="form-group">
        <input type="file" (change)="uploadFile($event)">    
    </div>

    
    <button class="btn btn-primary"  type="submit" [disabled]="!newTicket.valid">Submit</button>
  </form>-->



<!--
    https://www.positronx.io/angular-file-upload-with-progress-bar-tutorial/
  https://www.ahmedbouchefra.com/blog/angular-tutorial-example-upload-files-with-formdata-httpclient-rxjs-and-material-progressbar/
  https://w3path.com/new-angular-8-file-upload-or-image-upload/
  https://stackoverflow.com/questions/4234589/validation-of-file-extension-before-uploading-file/4237161
  https://merlosy.github.io/ngx-material-file-input/
  
  -->

<!-- PLU-->
<!-- <div class="example-container">
    <mat-form-field hintLabel="Max 20 characters">
      <input matInput #input maxlength="20" placeholder="PLU">
      <mat-hint align="end">{{input.value?.length || 0}}/20</mat-hint>
    </mat-form-field>

  </div> -->



<!-- V2
<form [formGroup]="newTicket" (ngSubmit)="submitForm();">


  <div class="example-container">

    <div class="example-container2">
      <div class="example-container3">

        <mat-form-field hintLabel="20 characters required">
          <input matInput #input maxlength="20" placeholder="PLU" formControlName="PLU">
          <mat-error>
            Number of characters: {{newTicket.get("PLU").value?.length}}. Required: 20 Characters
          </mat-error>
        </mat-form-field>
      </div>
    </div>


    <div class="example-container2">
      <div class="example-container3">

        <mat-form-field hintLabel="Upload a template">
          <ngx-mat-file-input #removableInput formControlName="Thefile" placeholder="Click Me"></ngx-mat-file-input>
          <button mat-icon-button matSuffix *ngIf="!removableInput.empty" (click)="removableInput.clear($event)">
            <mat-icon>clear</mat-icon>
          </button>
        </mat-form-field>
      </div>

    </div>

    <div class="example-container2">

      <button mat-button class="btn btn-primary" type="submit" [disabled]="!newTicket.valid">Submit</button>
    </div>


  </div>
</form>

-->





<mat-horizontal-stepper labelPosition="bottom" #stepper>


  <mat-step [stepControl]="newTicket">
    <form [formGroup]="newTicket">
      <ng-template matStepLabel>Upload Template</ng-template>

      <div class="example-container4">

        <mat-form-field hintLabel="Upload a template">
          <ngx-mat-file-input #removableInput formControlName="Thefile" placeholder="Click Me"></ngx-mat-file-input>
          <button mat-icon-button matSuffix *ngIf="!removableInput.empty" (click)="removableInput.clear($event)">
            <mat-icon>clear</mat-icon>
          </button>
        </mat-form-field>


        <div>
          <button mat-raised-button color="primary" matStepperNext>Next</button>
        </div>

      </div>
    </form>

  </mat-step>




  <mat-step [stepControl]="secondFormGroup">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Add PLU(s)</ng-template>

      <div class="example-container4">
        <div class="example-container5">
          <!-- 
          <mat-form-field>
            <input matInput placeholder="PLU" formControlName="secondCtrl" required>
          </mat-form-field> -->



          <mat-form-field hintLabel="20 characters required">
            <input matInput #input maxlength="20" placeholder="PLU" formControlName="secondCtrl">
            <mat-error>
              Number of characters: {{secondFormGroup.get("secondCtrl").value?.length}}. Required: 20 Characters
            </mat-error>
          </mat-form-field>



          <div>
            <!-- extra button to add additional plu-->
            <button mat-raised-button color="primary" [disabled]="secondFormGroup.get('secondCtrl').value?.length < 20 "
              (click)="Add()">Add</button>
          </div>
          <br>
        </div>

        <span *ngFor="let item of listofPlu;let i = index" class="example-container6">
          PLU {{i}}: {{item }}
        </span>
        <br>



        <div>



          <button mat-stroked-button color="primary" matStepperPrevious>Back</button>
          <!-- <button mat-button matStepperNext *ngIf="this.listofPlu.length > 0">Next</button> -->
          <button mat-stroked-button color="primary" matStepperNext
            [disabled]="this.listofPlu.length == 0">Next</button>
        </div>
      </div>

    </form>


  </mat-step>






  <mat-step>
    <ng-template matStepLabel>Review</ng-template>
    Review
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button [routerLink]="['/']">Done</button>
    </div>
  </mat-step>


</mat-horizontal-stepper>